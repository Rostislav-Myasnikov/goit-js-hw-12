{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImagesByQuery(query) {\n  const API_KEY = '52265753-7181a70cf6dcebc2c39de477c';\n  const END_POINT = '/api/';\n  axios.defaults.baseURL = 'https://pixabay.com';\n\n  return axios\n    .get(END_POINT, {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    })\n    .then(res => {\n      return res.data.hits;\n    })\n    .catch(error => {\n      console.error('error:', error);\n      return [];\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function createGallery(images) {\n  const listEl = document.querySelector('.gallery');\n  listEl.innerHTML = '';\n\n  const markup = images\n    .map(\n      img => `<li class=\"gallery-item\">\n         <div><a href=\"${img.largeImageURL}\">\n         <img class=\"gallery-img\" src=\"${img.previewURL}\" alt=\"${img.tags}\" />\n         </a>\n         <div class=\"img-info\">\n          <div class=\"info-block\">\n            <p>\n             Likes\n            </p>\n            <p>\n              ${img.likes}\n             </p>\n          </div>\n          <div class=\"info-block\">\n            <p>\n              Views</p>\n            <p>\n              ${img.views}\n            </p>\n          </div>\n          <div class=\"info-block\">\n            <p>\n              Comments\n            </p>\n            <p>\n              ${img.comments}\n            </p>\n          </div>\n          <div class=\"info-block\">\n            <p>\n              Downloads\n            </p>\n            <p>\n              ${img.downloads}\n            </p>\n          </div>\n        </div>\n      </div>\n      </li>`\n    )\n    .join('');\n\n  listEl.insertAdjacentHTML('beforeend', markup);\n  const lightbox = new SimpleLightbox('.gallery a', {});\n  lightbox.refresh();\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n  // document.getElementById('loader').style.display = 'block';\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n  // document.getElementById('loader').style.display = 'none';\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst btn = document.querySelector('button');\nconst inputEl = document.querySelector('input');\nconst formEl = document.querySelector('form');\nformEl.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const query = e.currentTarget.elements['search-text'].value.trim();\n  showLoader();\n  getImagesByQuery(query)\n    .then(images => {\n      if (images.length === 0) {\n        return iziToast.show({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          color: 'red',\n        });\n      }\n      createGallery(images);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["getImagesByQuery","query","API_KEY","END_POINT","axios","res","error","createGallery","images","listEl","markup","img","SimpleLightbox","showLoader","loader","hideLoader","formEl","e","iziToast"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACtC,MAAMC,EAAU,qCACVC,EAAY,QAClB,OAAAC,EAAM,SAAS,QAAU,sBAElBA,EACJ,IAAID,EAAW,CACd,OAAQ,CACN,IAAKD,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACP,CAAK,EACA,KAAKI,GACGA,EAAI,KAAK,IACjB,EACA,MAAMC,IACL,QAAQ,MAAM,SAAUA,CAAK,EACtB,GACR,CACL,CCrBO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAS,SAAS,cAAc,UAAU,EAChDA,EAAO,UAAY,GAEnB,MAAMC,EAASF,EACZ,IACCG,GAAO;AAAA,yBACYA,EAAI,aAAa;AAAA,yCACDA,EAAI,UAAU,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAQzDA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAOTA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAQTA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAQZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,YAMxB,EACA,KAAK,EAAE,EAEVF,EAAO,mBAAmB,YAAaC,CAAM,EAC5B,IAAIE,EAAe,aAAc,CAAE,CAAA,EAC3C,QAAO,CAClB,CAEO,SAASC,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OAEzB,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MAEzB,CCzDY,SAAS,cAAc,QAAQ,EAC3B,SAAS,cAAc,OAAO,EAC9C,MAAME,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,iBAAiB,SAAUC,GAAK,CACrCA,EAAE,eAAc,EAEhB,MAAMhB,EAAQgB,EAAE,cAAc,SAAS,aAAa,EAAE,MAAM,OAC5DJ,IACAb,EAAiBC,CAAK,EACnB,KAAKO,GAAU,CACd,GAAIA,EAAO,SAAW,EACpB,OAAOU,EAAS,KAAK,CACnB,QACE,2EACF,SAAU,WACV,MAAO,KACjB,CAAS,EAEHX,EAAcC,CAAM,CAC1B,CAAK,EACA,QAAQ,IAAM,CACbO,GACN,CAAK,CACL,CAAC"}